(function(){var t,n;t=require("jQuery"),n=function(n){var r,e,i,o;return r=t(n),r.length?(o=/(^\S+)\s([\w\.\#]*[\.\#\w\s\-\_\,]*\w$)/,i=/(^\S+)\((.+)\)/,new(e=function(){function n(n,e){var i;this.data=n,this.templateStr=e,i=this,this.parent=r,r.on("change","input[cozy-bind],textarea[cozy-bind],select[cozy-bind]",function(){var n,r;return n=t(this),r=n.attr("type"),"checkbox"===r||"radio"===r?i.bindProp(n):i.bindAttr(n)})}return n.prototype.events=function(t){var n,e,i;if(t)for(n in t)i=t[n],e=n.match(o),e&&r.on(e[1],e[2],i);return this},n.prototype.on=function(t){var n,r;if(t)for(n in t)r=t[n],this[n]=r;return this},n.prototype.setup=function(t){return this.data=t,this},n.prototype.template=function(t){return this.templateStr=t,this},n.prototype.render=function(){var t,n;return t=this,n=template(this.templateStr,this.data),n&&r.empty().append(n).find("input[cozy-bind],textarea[cozy-bind]").each(function(n,r){return t.valueInput(n,r)}),this},n.prototype.valueInput=function(n,r){var e,i,o,a;return e=t(r),o=e.attr("type"),i=e.attr("cozy-bind"),a=this.data[i],"checkbox"===o||"radio"===o?e.prop("checked",a):e.val(a)},n.prototype.bindAttr=function(t){return this.data[t.attr("cozy-bind")]=t.val()},n.prototype.bindProp=function(t){return this.data[t.attr("cozy-bind")]=t.prop("checked")},n.prototype.once=function(t){return t.apply(this,[r]),this},n}())):!1}}).call(this);