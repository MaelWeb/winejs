(function(){$(function(){var t,e;return t=$(".todo").wine(function(){var t,e;return e=this,t=this.parent,t.on("click",".act-btn-add",function(){var t;return t=$.trim($(".act-new-todo").val()),t.length&&e.data.todos.push({check:!1,content:t}),e.data.newItem="",e.render()}),t.on("click",".act-btn-done",function(){var t,n,o,c,r;for(n=[],r=e.data.todos,o=0,c=r.length;c>o;o++)t=r[o],t.check||n.push(t);return e.data.todos=n,e.render()})}),t.setTemplate({text:$(".template-todo").html()}).value({title:"Daniel's todo list",todos:[{content:"Develop Wine",check:!0},{content:"Learn Python",check:!1},{content:"Code war mission",check:!1}],newItem:""}).afterRender(function(){return e.render()}).render().binding({newItem:function(t){return console.log("newItem"),console.log(this),console.log(t)},"todos[$].check":function(t){return e.render(),console.log("check"),console.log(this),console.log(t)},checkAll:function(t){var e,n,o,c,r;for(n=this,r=n.data.todos,o=0,c=r.length;c>o;o++)e=r[o],e.check=t.value;return n.render()}}),e=$(".total").wine(),e.setTemplate({text:$(".template-total").html()}).value({total:function(){return t.data.todos.length},complete:function(){var e,n,o,c,r;for(e=0,r=t.data.todos,o=0,c=r.length;c>o;o++)n=r[o],n.check&&e++;return e}}).render()})}).call(this);